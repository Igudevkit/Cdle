<!DOCTYPE html>
<html>
<head>
  <title>Produtodle</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #1a3a2a;
      color: #e0e0e0;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      transition: all 0.3s ease;
    }

    h1 {
      margin: 0 0 2rem;
      font-size: 2.5rem;
      color: #a0e0a0;
      text-align: center;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
    }

    #controls {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    button {
      background: #38a169;
      color: #fff;
      border: none;
      border-radius: 8px;
      padding: 0.75rem 1.5rem;
      font-size: 1.1rem;
      cursor: pointer;
      transition: transform 0.2s;
    }

    button:focus {
      outline: none;
      transform: scale(1.05);
    }

    .search-box {
      width: 300px;
      position: relative;
      background: #2d5339;
      border: 1px solid #4a6d4e;
      border-radius: 8px;
      padding: 0.5rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
    }

    .search-box input {
      width: 95%;
      border: none;
      border-radius: 4px;
      padding: 0.5rem;
      background: #1e2d1a;
      color: #e0e0e0;
      font-size: 1rem;
    }

    .search-box input::placeholder {
      color: #a0b29f;
    }

    .search-box input:focus {
      outline: none;
      box-shadow: 0 0 4px #38a169;
    }

    .suggestions {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: #1e2d1a;
      border: 1px solid #4a6d4e;
      border-radius: 4px;
      max-height: 120px;
      overflow-y: auto;
      z-index: 100;
      display: none;
    }

    .suggestion-item {
      padding: 0.5rem;
      cursor: pointer;
      color: #e0e0e0;
    }

    .suggestion-item:hover {
      background: #38a169;
      color: #fff;
    }

    table {
      width: 95%;
      max-width: 1100px;
      border-collapse: collapse;
      margin-top: 2rem;
      background: #1e2d1a;
      border-radius: 8px;
      overflow: hidden;
    }

    th, td {
      padding: 1rem;
      text-align: center;
      border-bottom: 1px solid #4a6d4e;
    }

    th {
      background: #2a4836;
      color: #a0e0a0;
    }

    td {
      background: #1e2d1a;
      color: #e0e0e0;
      transition: background-color 0.3s;
    }

    td.exact { background: #16a34a; color: #fff; }
    td.partial { background: #eab308; color: #fff; }
    td.none { background: #ef4444; color: #fff; }

    .up::after { content: "⬆️"; animation: bounceUp 0.5s infinite; }
    .down::after { content: "⬇️"; animation: bounceDown 0.5s infinite; }

    @keyframes bounceUp {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-5px); }
    }

    @keyframes bounceDown {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(5px); }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    tbody tr {
      opacity: 0;
      animation: fadeIn 0.5s forwards;
    }

    .shadow {
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }
  </style>
</head>

<body>
  <h1>Produtodle Clássico</h1>

  <div id="controls" class="shadow">
    <div class="search-box">
      <input id="searchBox" type="text" placeholder="Digite o produto..." autocomplete="off">
      <div id="suggestions" class="suggestions"></div>
    </div>
    <button id="guessBtn">Palpitar</button>
    <button id="newGameBtn">Novo Jogo</button>
    <button id="manualBtn" onclick="window.open('manual.html','_blank')">Manual</button>
  </div>

  <table id="board">
    <thead>
      <tr>
        <th>Produto</th>
        <th>Tipo</th>
        <th>Capac. Usuários</th>
        <th>Autenticação</th>
        <th>Comunicação</th>
        <th>Grau IP</th>
        <th>Frequência (MHz)</th>
        <th>Rede</th>
        <th>Fornecedor</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
            const PRODUCTS = [
            {
                nome: "SS 1530 MF W",
                tipo: "controlador",
                capacidade: 3000,
                auth: ["Face", "Senha", "Tag", "QRcode"],
                com: ["RS 485", "Wiegand"],
                grauIP: "N/A",
                freq: 13.56,
                rede: ["Ethernet", "wi-fi"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 1540 MF W",
                tipo: "controlador",
                capacidade: 3000,
                auth: ["Face", "Senha", "Tag", "QRcode", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "N/A",
                freq: 13.56,
                rede: ["Ethernet", "wi-fi"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3420 MF Bio",
                tipo: "controlador",
                capacidade: 30000,
                auth: ["Tag", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP65",
                freq: 13.56,
                rede: ["Ethernet"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3420 Bio",
                tipo: "controlador",
                capacidade: 30000,
                auth: ["Tag", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP65",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3430 MF Bio",
                tipo: "controlador",
                capacidade: 30000,
                auth: ["Tag", "Biometria", "Senha"],
                com: ["RS 485", "Wiegand"],
                grauIP: "N/A",
                freq: 13.56,
                rede: ["Ethernet", "wi-fi"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3430 Bio",
                tipo: "controlador",
                capacidade: 30000,
                auth: ["Tag", "Biometria", "Senha"],
                com: ["RS 485", "Wiegand"],
                grauIP: "N/A",
                freq: 125,
                rede: ["Ethernet", "wi-fi"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3530 MF Face",
                tipo: "controlador",
                capacidade: 1500,
                auth: ["Face", "Senha", "Tag", "QRcode"],
                com: ["RS 485"],
                grauIP: "N/A",
                freq: 13.56,
                rede: ["Ethernet"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3530 MF Face W",
                tipo: "controlador",
                capacidade: 1500,
                auth: ["Face", "Senha", "Tag", "QRcode"],
                com: ["RS 485"],
                grauIP: "N/A",
                freq: 13.56,
                rede: ["Ethernet", "wi-fi"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3540 MF Face EX",
                tipo: "controlador",
                capacidade: 6000,
                auth: ["Face", "Senha", "Tag", "QRcode"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP65",
                freq: 13.56,
                rede: ["Ethernet"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3540 MF Face Bio EX",
                tipo: "controlador",
                capacidade: 6000,
                auth: ["Face", "Senha", "Tag", "QRcode", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP55",
                freq: 13.56,
                rede: ["Ethernet"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3532 MF W",
                tipo: "controlador",
                capacidade: 6000,
                auth: ["Face", "Senha", "Tag", "QRcode"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP55",
                freq: 13.56,
                rede: ["POE", "Ethernet", "wi-fi"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3542 MF W",
                tipo: "controlador",
                capacidade: 6000,
                auth: ["Face", "Senha", "Tag", "QRcode", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP55",
                freq: 13.56,
                rede: ["POE", "Ethernet", "wi-fi"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3532 MF",
                tipo: "controlador",
                capacidade: 10000,
                auth: ["Face", "Senha", "Tag", "QRcode"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP55",
                freq: 13.56,
                rede: ["Ethernet"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 3542 MF",
                tipo: "controlador",
                capacidade: 10000,
                auth: ["Face", "Senha", "Tag", "QRcode", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP55",
                freq: 13.56,
                rede: ["Ethernet"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 5530 MF Face",
                tipo: "controlador",
                capacidade: 50000,
                auth: ["Face", "Senha", "Tag", "QRcode"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP64",
                freq: 13.56,
                rede: ["Ethernet"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 5530 MF Face Lite",
                tipo: "controlador",
                capacidade: 20000,
                auth: ["Face", "Senha", "Tag", "QRcode"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP64",
                freq: 13.56,
                rede: ["Ethernet"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 5531 MF W",
                tipo: "controlador",
                capacidade: 20000,
                auth: ["Face", "Senha", "Tag", "QRcode"],
                com: ["RS 485", "Wiegand"],
                grauIP: "N/A",
                freq: 13.56,
                rede: ["Ethernet", "wi-fi"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 5532 MF W",
                tipo: "controlador",
                capacidade: 20000,
                auth: ["Face", "Senha", "Tag", "QRcode"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP55",
                freq: 13.56,
                rede: ["Ethernet", "wi-fi"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 5541 MF W",
                tipo: "controlador",
                capacidade: 20000,
                auth: ["Face", "Senha", "Tag", "QRcode", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "N/A",
                freq: 13.56,
                rede: ["Ethernet", "wi-fi"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 5542 MF W",
                tipo: "controlador",
                capacidade: 20000,
                auth: ["Face", "Senha", "Tag", "QRcode", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP55",
                freq: 13.56,
                rede: ["Ethernet", "wi-fi"],
                fornecedor: "Dahua"
            },
            {
                nome: "SS 120",
                tipo: "controlador",
                capacidade: 5000,
                auth: ["Tag"],
                com: ["Wiegand"],
                grauIP: "N/A",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SS 210",
                tipo: "controlador",
                capacidade: 30000,
                auth: ["Tag", "Senha"],
                com: ["RS 485", "Wiegand", "RS232"],
                grauIP: "N/A",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SS 230",
                tipo: "controlador",
                capacidade: 30000,
                auth: ["Tag", "Senha"],
                com: ["RS 485", "Wiegand", "RS232"],
                grauIP: "N/A",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SS 310",
                tipo: "controlador",
                capacidade: 200,
                auth: ["Tag", "Biometria"],
                com: ["RS 485", "Wiegand", "RS232"],
                grauIP: "N/A",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SS 311 E",
                tipo: "controlador",
                capacidade: 10000,
                auth: ["Tag", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP66",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SS 311 MF",
                tipo: "controlador",
                capacidade: 10000,
                auth: ["Tag", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "IP66",
                freq: 13.56,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SS 320",
                tipo: "controlador",
                capacidade: 30000,
                auth: ["Tag", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "N/A",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SS 410",
                tipo: "controlador",
                capacidade: 30000,
                auth: ["Tag", "Biometria", "Senha"],
                com: ["RS 485", "Wiegand", "RS232"],
                grauIP: "N/A",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SS 411 E",
                tipo: "controlador",
                capacidade: 10000,
                auth: ["Tag", "Biometria", "Senha"],
                com: ["RS 485", "Wiegand"],
                grauIP: "N/A",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SS 420",
                tipo: "controlador",
                capacidade: 5000,
                auth: ["Tag", "Biometria", "Senha"],
                com: ["RS 485", "Wiegand"],
                grauIP: "N/A",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SS 610",
                tipo: "controlador",
                capacidade: 10000,
                auth: ["Tag", "Biometria", "Senha"],
                com: ["RS 485", "Wiegand"],
                grauIP: "N/A",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SS 710",
                tipo: "controlador",
                capacidade: 5000,
                auth: ["Face", "Senha", "Tag", "Biometria"],
                com: ["RS 485", "Wiegand"],
                grauIP: "N/A",
                freq: 125,
                rede: ["Ethernet"],
                fornecedor: "ZKteco"
            },
            {
                nome: "SA 200",
                tipo: "controlador",
                capacidade: 1000,
                auth: ["Tag", "Senha"],
                com: ["N/A"],
                grauIP: "N/A",
                freq: 125,
                rede: ["N/A"],
                fornecedor: "N/A"
            },
            {
                nome: "SA 202",
                tipo: "controlador",
                capacidade: 1000,
                auth: ["Tag", "Senha"],
                com: ["N/A"],
                grauIP: "N/A",
                freq: 125,
                rede: ["N/A"],
                fornecedor: "Intelbras"
            },
            {
                nome: "SA 202 Automatiza",
                tipo: "controlador",
                capacidade: 1000,
                auth: ["Tag", "Senha"],
                com: ["N/A"],
                grauIP: "N/A",
                freq: 125,
                rede: ["N/A"],
                fornecedor: "N/A"
            },
            {
                nome: "SA 203 MF",
                tipo: "controlador",
                capacidade: 1000,
                auth: ["Tag", "Senha"],
                com: ["Wiegand"],
                grauIP: "N/A",
                freq: 13.56,
                rede: ["N/A"],
                fornecedor: "Intelbras"
            },
            {
                nome: "SA 210",
                tipo: "controlador",
                capacidade: 1000,
                auth: ["Tag", "Senha"],
com: ["N/A"],
grauIP: "IP65",
freq: 125,
rede: ["N/A"],
fornecedor: "N/A"
},
{
nome: "SA 211 MF",
tipo: "controlador",
capacidade: 1000,
auth: ["Tag", "Senha"],
com: ["Wiegand"],
grauIP: "IP66",
freq: 13.56,
rede: ["N/A"],
fornecedor: "Intelbras"
},
{
nome: "SA 310",
tipo: "controlador",
capacidade: 500,
auth: ["Tag", "Senha", "Biometria"],
com: ["N/A"],
grauIP: "N/A",
freq: 125,
rede: ["N/A"],
fornecedor: "N/A"
},
{
nome: "Defense Lite",
tipo: "software",
capacidade: 5000,
auth: ["senha"],
com: ["IP"],
grauIP: "N/A",
freq: "N/A",
rede: ["Todas"],
fornecedor: "Intelbras"
},
{
nome: "InControl",
tipo: "software",
capacidade: 20000,
auth: ["N/A"],
com: ["IP"],
grauIP: "N/A",
freq: "N/A",
rede: ["LAN"],
fornecedor: "Intelbras"
},
{
nome: "SoapAdmin",
tipo: "software",
capacidade: "N/A",
auth: ["N/A"],
com: ["IP"],
grauIP: "N/A",
freq: "N/A",
rede: ["LAN"],
fornecedor: "ZKteco"
},
{
nome: "SoapAdmin 2.4",
tipo: "software",
capacidade: "N/A",
auth: ["N/A"],
com: ["IP"],
grauIP: "N/A",
freq: "N/A",
rede: ["N/A"],
fornecedor: "ZKteco"
},
{
nome: "SGA 1000 IP",
tipo: "software",
capacidade: 4000,
auth: ["N/A"],
com: ["IP"],
grauIP: "N/A",
freq: "N/A",
rede: ["LAN"],
fornecedor: "Intelbras"
},
{
nome: "SGA 1000",
tipo: "software",
capacidade: 4000,
auth: ["N/A"],
com: ["USB"],
grauIP: "N/A",
freq: "N/A",
rede: ["N/A"],
fornecedor: "Intelbras"
},
{
nome: "CT 500 2pb",
tipo: "controlador",
capacidade: 30000,
auth: ["N/A"],
com: ["RS 485", "Wiegand"],
grauIP: "N/A",
freq: "N/A",
rede: ["Ethernet"],
fornecedor: "ZKteco"
},
{
nome: "CT 3000 2pb",
tipo: "controlador",
capacidade: 100000,
auth: ["N/A"],
com: ["RS 485", "Wiegand"],
grauIP: "N/A",
freq: "N/A",
rede: ["Ethernet"],
fornecedor: "Dahua"
},
{
nome: "MIP 1000 IP",
tipo: "controlador",
capacidade: 4000,
auth: ["N/A"],
com: ["RS 485"],
grauIP: "N/A",
freq: [13.56, 125],
rede: ["Ethernet"],
fornecedor: "Intelbras"
},
{
nome: "MIP 1000",
tipo: "controlador",
capacidade: 4000,
auth: ["N/A"],
com: ["RS 485"],
grauIP: "N/A",
freq: [13.56, 125],
rede: ["N/A"],
fornecedor: "Intelbras"
}
];

    const MAX_TRIES = 8;
    const MAX_SUG = 3;
    let target, tries;

    const sb = document.getElementById("searchBox");
    const sugC = document.getElementById("suggestions");
    const tbod = document.querySelector("#board tbody");
    sb.addEventListener("input", () => showSug(sb.value));
    sb.addEventListener("input", () => showSug(sb.value));
    sb.addEventListener("keydown", (e) => {
  if (e.key === "Enter") {
    e.preventDefault(); // evita comportamento padrão de envio de formulário
    hideSug();           // opcional: esconde as sugestões
    play();              // chama a função que já clica no botão de palpite
  }
});

    function reset() {
      tbod.innerHTML = "";
      tries = 0;
      target = PRODUCTS[Math.floor(Math.random() * PRODUCTS.length)];
      sb.value = "";
      hideSug();
      sb.focus();
    }

    function getSug(q) {
      if (!q.trim()) return [];
      return PRODUCTS.filter(p => p.nome.toLowerCase().includes(q.toLowerCase())).slice(0, MAX_SUG);
    }

    function showSug(q) {
      const opts = getSug(q);
      if (opts.length) {
        sugC.style.display = "block";
        sugC.innerHTML = opts.map(o => `<div class="suggestion-item">${o.nome}</div>`).join("");
        document.querySelectorAll(".suggestion-item").forEach((el, i) => {
          el.onclick = () => {
            sb.value = opts[i].nome;
            hideSug();
            play();
          };
        });
      } else {
        hideSug();
      }
    }

    function hideSug() {
      sugC.style.display = "none";
      sugC.innerHTML = "";
    }

    const toArr = v => Array.isArray(v) ? v : [v];
    const evalList = (g, t) => g.length === t.length && g.every(v => t.includes(v)) ? "exact" : g.some(v => t.includes(v)) ? "partial" : "none";
    const evalIP = (g, t) => g === t ? "exact" : g.slice(0, 2) === t.slice(0, 2) ? "partial" : "none";
    const evalNum = (g, t) => g === t ? "exact" : g > t ? "down" : "up";
    const evalFreq = (g, t) => g === t ? "exact" : Math.abs(g - t) <= 10 ? "partial" : g > t ? "down" : "up";
    const evalText = (g, t) => g === t ? "exact" : g && t && g[0] === t[0] ? "partial" : "none";

    function evaluate(g) {
  return {
    tipo: evalList(toArr(g.tipo), toArr(target.tipo)),
    capacidade: evalNum(g.capacidade, target.capacidade),
    auth: evalList(toArr(g.auth), toArr(target.auth)),
    com: evalList(toArr(g.com), toArr(target.com)),
    grauIP: evalIP(g.grauIP, target.grauIP),
    freq: evalList(toArr(g.freq), toArr(target.freq)),
    rede: evalList(toArr(g.rede), toArr(target.rede)),
    fornecedor: evalText(g.fornecedor, target.fornecedor)
  };
}

function render(g, r) {
  const tr = document.createElement("tr");
  tr.innerHTML = `
    <td>${g.nome}</td>
    <td class="${r.tipo}">${toArr(g.tipo).join(", ")}</td>
    <td class="${r.capacidade}">${g.capacidade}</td>
    <td class="${r.auth}">${toArr(g.auth).join(", ")}</td>
    <td class="${r.com}">${toArr(g.com).join(", ")}</td>
    <td class="${r.grauIP}">${g.grauIP}</td>
    <td class="${r.freq}">${toArr(g.freq).join(", ")}</td>
    <td class="${r.rede}">${toArr(g.rede).join(", ")}</td>
    <td class="${r.fornecedor}">${g.fornecedor}</td>`;
  tbod.appendChild(tr);
}

    const win = r => Object.values(r).every(v => v === "exact");

    document.getElementById("guessBtn").addEventListener("click", () => {
      if (!sb.value.trim()) return;
      const opts = getSug(sb.value);
      const guess = PRODUCTS.find(p => p.nome === sb.value) || opts[0];
      if (guess) evaluateAndRender(guess);
      hideSug();
    });

    document.getElementById("newGameBtn").addEventListener("click", reset);

    function evaluateAndRender(guess) {
      if (tries >= MAX_TRIES) return;
      const res = evaluate(guess);
      render(guess, res);
      tries++;
      if (win(res)) {
        alert(`Parabéns! Você acertou em ${tries} tentativa(s).`);
      } else if (tries === MAX_TRIES) {
        alert(`Fim de jogo! O produto era ${target.nome}.`);
      }
    }

    function play() {
      document.getElementById("guessBtn").click();
    }

    reset();
  </script>
</body>
</html>
